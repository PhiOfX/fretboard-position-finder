var string_array=["eString","bString","gString","dString","AString","ELowString"],frets=["one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen"];const NOTES={eString:[["f2"],["gb2","fs2"],["g2"],["ab2","gs2"],["a2"],["bb2","as2"],["b2"],["c3"],["db3","cs3"],["d3"],["eb3","ds3"],["e3"],["f3"],["gb3","fs3"],["g3"],["ab3","gs3"],["a3"]],bString:[["c2"],["db2","cs2"],["d2"],["eb2","ds2"],["e2"],["f2"],["gb2","fs2"],["g2"],["ab2","gs2"],["a2"],["bb2","as2"],["b2"],["c3"],["db3","cs3"],["d3"],["eb3","ds3"],["e3"]],gString:[["ab1","gs1"],["a1"],["bb1","as1"],["b1"],["c2"],["db2","cs2"],["d2"],["eb2","ds2"],["e2"],["f2"],["gb2","fs2"],["g2"],["ab2","gs2"],["a2"],["bb2","as2"],["b2"],["c3"]],dString:[["eb1","ds1"],["e1"],["f1"],["gb1","fs1"],["g1"],["ab1","gs1"],["a1"],["bb1","as1"],["b1"],["c2"],["db2","cs2"],["d2"],["eb2","ds2"],["e2"],["f2"],["gb2","fs2"],["g2"]],AString:[["bb0","as0"],["b0"],["c1"],["db1","cs1"],["d1"],["eb1","ds1"],["e1"],["f1"],["gb1","fs1"],["g1"],["ab1","gs1"],["a1"],["bb1","as1"],["b1"],["c2"],["db2","cs2"],["d2"]],ELowString:[["f0"],["gb0","fs0"],["g0"],["ab0","gs0"],["a0"],["bb0","as0"],["b0"],["c1"],["db1","cs1"],["d1"],["eb1","ds1"],["e1"],["f1"],["gb1","fs1"],["g1"],["ab1","gs1"],["a1"]]};function playTone(e,t=null){let n;if(!(n=t?document.querySelector(`.${t} img.tone.${e}`):document.querySelector(`img.tone.${e}`))){console.warn(`Element for tone ${e} ${t?"on string "+t:""} not found.`);return}let o=null;if(t){let l=NOTES[t].find(t=>t.includes(e)),s=l?l.find(t=>t!==e):null,r=s?document.querySelector(`.${t} img.tone.${s}`):null;n&&n.classList.contains("active")?o=n:r&&r.classList.contains("active")&&(o=r)}else n.classList.contains("active")&&(o=n);if(o){let i=new Audio(`static/media/tone_sounds/${e}.mp3`);i.play();let a=o.classList.contains("root"),c=a?"/static/media/red_dot_24.svg":"/static/media/yellow_dot_24.svg";o.setAttribute("src",a?"/static/media/red_dot_active_24.svg":"/static/media/yellow_dot_active_24.svg"),setTimeout(()=>{o.setAttribute("src",c)},300)}else console.warn(`Element for tone ${e} ${t?"on string "+t:""} and its equivalent are not active or not found.`)}function resetFretboard(){let e=document.querySelectorAll(".active");e.forEach(e=>e.classList.remove("active"));let t=document.querySelectorAll(".tone");t.forEach(e=>e.setAttribute("src","/static/media/yellow_dot_24.svg"))}function deactivateActiveNotes(e,t){let n=document.querySelectorAll(`.${e} .${t}`);for(let o in n)isNaN(o)||n[o].classList.remove("active")}function getToneNameFromDataChords(){var e,t=document.getElementById("show_tension_button");t.setAttribute("onclick","show_tension_notes_chords()"),t.innerHTML="Show Tensions",getTonesFromDataChords(document.getElementById("position_select").value,document.getElementById("note_range").value)}function getNoteNameFromData(){for(var e in y=document.getElementById("position_select").value,scale_data[y])if(scale_data[y].hasOwnProperty(e))for(var t in scale_data[y][e][0].tones){var n=scale_data[y][e][0].tones[t],o=document.querySelector("."+e+" .notename."+n);document.querySelector("."+e+" ."+n+" img.active")&&null!=o&&o.classList.add("active")}var l=document.getElementById("show_note_name_button");l.setAttribute("onclick","getNotePicFromData()"),l.innerHTML="Only Tones"}function getNotePicFromData(){var e=document.querySelectorAll(".notename");if(void 0!=e)for(var t=0;t<e.length;t++)e[t].classList.remove("active");var n=document.getElementById("show_note_name_button");n.setAttribute("onclick","getNoteNameFromData()"),n.innerHTML="Show Note Names"}function closeAllSelect(e){var t,n,o,l=[];for(o=0,t=document.getElementsByClassName("slit"),n=document.getElementsByClassName("sese");o<n.length;o++)e==n[o]?l.push(o):n[o].classList.remove("slar-active");for(o=0;o<t.length;o++)l.indexOf(o)&&t[o].classList.add("sehi")}function toggleDropdown(e){let t=document.querySelectorAll(".dropdown-toggle");t.forEach(t=>{t!==e&&(t.checked=!1)})}document.addEventListener("DOMContentLoaded",function(e){var t=localStorage.getItem("scrollpos");t&&window.scrollTo(0,t)}),window.onbeforeunload=function(e){localStorage.setItem("scrollpos",window.scrollY)},document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("infoToggle"),t=document.querySelector(".analysis_container");e&&t&&e.addEventListener("click",function(){"none"===t.style.display||""===t.style.display?t.style.display="block":t.style.display="none"})}),document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("menuToggle"),t=document.getElementById("menuCheckbox"),n=document.getElementById("menu"),o=document.querySelector(".left-cursor");e&&t&&n&&(e.addEventListener("click",function(e){e.stopPropagation(),t.checked=!t.checked,t.checked?(n.style.left="0",o.style.zIndex="unset"):(n.style.left="-300px",o.style.zIndex="10",document.querySelectorAll(".dropdown-toggle").forEach(e=>{let t=document.querySelector(`label[for="${e.id}"]`);t&&t.removeAttribute("style")}))}),document.addEventListener("click",function(l){!t.checked||e.contains(l.target)||n.contains(l.target)||(t.checked=!1,n.style.left="-300px",o.style.zIndex="10",document.querySelectorAll(".dropdown-toggle").forEach(e=>{let t=document.querySelector(`label[for="${e.id}"]`);t&&t.removeAttribute("style")}))}),document.querySelectorAll(".dropdown-toggle").forEach(e=>{e.addEventListener("click",function(){document.querySelectorAll(".dropdown-toggle").forEach(e=>{let t=document.querySelector(`label[for="${e.id}"]`);e.checked&&t?(t.style.color="#FF6F5A",t.style.fontWeight="bold"):t&&t.removeAttribute("style")})})}))}),document.addEventListener("DOMContentLoaded",function(){document.addEventListener("keydown",function(e){if("Escape"===e.key){var t=document.getElementById("closeOverlay"),n=document.getElementById("closeOverlayChords");t?t.click():n&&n.click()}if("i"===e.key||"I"===e.key){var o=document.getElementById("infoToggle");o&&o.click()}if("ArrowLeft"===e.key&&leftCursorClick(),"ArrowRight"===e.key&&rightCursorClick(),"ArrowUp"===e.key&&increaseRoot(),"ArrowDown"===e.key&&decreaseRoot(),"p"===e.key||"P"===e.key){var l=document.getElementById("overlayToggle"),s=document.getElementById("overlayToggleChords");l?l.click():s&&s.click()}})});